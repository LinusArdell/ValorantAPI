<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>VALORANT MAP</title>
    <link rel="stylesheet" href="css/map.css">
    <link rel="icon" href="/img/val only.png">
</head>

<body>
    <nav id="navbar" class="sticky-top">
        <div class=""> 
          <div class="container-fluid topnav text-center p-3" >                
            <!-- <a href="#home">Home</a> -->
            <a id=""href="#Map">
              <img src="../img/Valorant Logo.png" alt="Valorant" width=100px height="">
              <div class="padang naze">
            </a>
            <button onclick="document.location='../index.html'" class="btn">Home</button>
                <button type="button" class="btn modal-button" data-bs-toggle="modal" data-bs-target="#exampleModal"
                data-bs-whatever="@mdo">Add Map</button>
              <br>
              <br>
            </div>
        </div>               
      </nav>
    <!-- <nav class="">
        <div class="col-lg-12">
            <div class="bg-img">
                .<img src="../img/Valorant Logo.png" alt="Valorant" width=100px>
              <div class="topnav ">   
                
              </div>          
            </div>
        </div> 
    </nav> -->

    <div id="Map" class="p-2">

        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Map to Queque</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <label for="recipient-name" class="col-form-label">Map Name:</label>
                                <input type="text" class="form-control" v-model="displayName">
                            </div>
                            <div class="mb-3">
                                <label for="message-text" class="col-form-label">Map coordinates:</label>
                                <textarea class="form-control" v-model="coordinates"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="message-text" class="col-form-label">Map Image:</label>
                                <input type="text" class="form-control" v-model="splash"></input>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button v-on:click="saveMap" class="btn btn-danger">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card Map Valorant -->
        <div v-for="data in dataMap">
        <div class="container">
            <div class="card">
                <figure class="card__thumb">
                    <img v-bind:src="data.splash">
                    <figcaption class="card__caption">
                        <h2 class="card__title"><b> {{data.displayName}} </b>
                            <h5> {{data.coordinates}} </p></h5>
                        <p class="card__snippet">NASA released a list of 219 new “planet candidates” discovered by the Kepler space telescope</p>
                        <img src="../img/neptune.jpg" alt="" srcset="" style=" height:200px ; width: 350px">
                    </figcaption>
                </figure>
            </div>
        </div>

        <!-- <div class="container">
        <div class="card-group">
            <div class="mere col-lg-10 col-md-6 d-flex align-items-stretch aos-init aos-animate" data-aos="zoom-in" data-aos-delay="100" >
            <div class="card container"v-for="data in dataMap " >
                <img class="card-img-top" v-bind:src="data.splash" alt="">
                <div class="card-body">
                    <h2 class="card-title"><b> {{data.displayName}} </b></h2>
                    <p class="card-text"> {{data.coordinates}} </p>
                </div>
            
            </div>
            </div>
    </div>
    </div> -->
        <!-- <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col">
              <div class="card" v-for="data in dataMap">
                <img v-bind:src="data.splash" class="card-img-top" alt="">
                <div class="card-body">
                  <h5 class="card-title">{{data.displayName}}</h5>
                  <p class="card-text">{{data.coordinates}}</p>
                </div>
              </div>
            </div>
        </div> -->


    </div>

    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.0/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

   

    <script>
        let vm = new Vue({
            el: "#Map",
            data: {
                Map: "Data Map Valorant",
                dataMap: null,

                displayName: null,
                coordinates: null,
                splash: null
            },

            methods: {
                saveMap: function () {
                    console.log("Button clicked")
                    let _data = {
                        'displayName': this.displayName,
                        'coordinates': this.coordinates,
                        'splash': this.splash
                    }

                    axios
                        .post('https://valorant-api-rho.vercel.app/map', _data)
                        .then(response => {
                            console.log(response);
                            $('#exampleModal').modal('hide');
                        })
                        .catch(error => {
                            console.log(error);
                        })
                }
            },

            mounted() {
                axios
                    .get('https://valorant-api-rho.vercel.app/map')
                    .then(response => {
                        console.log(response);
                        this.dataMap = response.data;
                    })
            }
        })
        //'https://valorant-api-rho.vercel.app/map'
    </script>
</body>

</html>